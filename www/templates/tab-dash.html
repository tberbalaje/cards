<ion-view view-title="Dashboard">
  <ion-header-bar class="bar-subheader item-input-inset" name="cm-search-bar">

    <label class="item item-input bar-search">
            <i class="icon ion-search placeholder-icon"></i>
            <input type="text" ng-model="input.filterUser" placeholder="Search">
        </label>
    <ion-item class="padding bar-tabs">
      <ion-scroll direction="x" class="wide-as-needed">
        <a ng-repeat="categories in categories">
          <button class="button button-outline button-positive button-style" ng-click="categorySelected('{{categories.category}}')">
            {{categories.category}}
          </button>
        </a>
      </ion-scroll>
    </ion-item>
  </ion-header-bar>

  <ion-content class="padding">

    <script id="image-modal.html" type="text/ng-template ">
      <div class="popup-modal modal image-modal transparent" ng-click="closeModal()">

        <ion-slide-box on-slide-changed="slideChanged(index)" show-pager="false">
          <ion-slide>
            <img ng-src="{{imageSrc}}" class="fullscreen-image" />
            <p class="info">{{title}}</p>
          </ion-slide>
        </ion-slide-box>

      </div>
    </script>

    <div layout="column" layout-fill>
      <div class="cards-wrap" angular-grid="shots" grid-width="300" gutter-size="12" angular-grid-id="shots" infinite-scroll-container="#content-scroller" infinite-scroll-threshold="500">
        <div class="grid" ng-repeat="shot in shots track by $index">

          <img ng-click="alert(shot)" alt="" src="{{shot.media.m}}" class="grid-img" data-actual-width="{{shot.actualWidth}}" data-actual-height="{{shot.actualHeight}}">
          </img>
          <p>{{shot.title}}
            <br>
            <ion-icon class="ion-clock" data-pack="default" data-tags="time, watch, hours, minutes, seconds">
              <time am-time-ago="shot.date_taken" title="{{ shot.published }}| amDateFormat: 'dddd, MMMM Do YYYY, h:mm a' }}"></time>
            </ion-icon>
          </p>
          <span>{{shot.author_id}}</span>
        </div>
      </div>
    </div>

    <ion-infinite-scroll on-infinite="loadMoreShots()"></ion-infinite-scroll>



  </ion-content>
</ion-view>
